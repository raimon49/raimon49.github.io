<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="技術ブログを静的ページジェネレータPelicanで始めることにしたのでセットアップ手順のメモとかを残す。 2015-04-19追記 最新のセットアップ手順は、このブログ自身のリポジトリトップに置いてあるREADME.mdに簡潔にまとめてある。 動機 もともとウェブ日記ツールtDiaryを使ってプログラミング系の記事も書いていたのだけど、 シンタックスハイライトがしんどい...">
        <meta name="keywords" content="GitHub, Pelican, Python">
        <link rel="icon" href="https://raimon49.github.io/favicon.ico">
        <!-- Canonical -->
        <link rel="canonical" href="https://raimon49.github.io/2014/11/09/start-tech-blog-by-pelican.html">
        <!-- /Canonical -->

        <title>技術ブログを静的ページジェネレータPelicanで始めることにした - Steel Dragon 14106</title>

        <!-- Stylesheets -->
        <link href="https://raimon49.github.io/theme/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://raimon49.github.io/theme/css/fonts.css" rel="stylesheet">
        <link href="https://raimon49.github.io/theme/css/nest.css" rel="stylesheet">
        <link href="https://raimon49.github.io/theme/css/pygment.css" rel="stylesheet">
        <!-- /Stylesheets -->

        <!-- RSS Feeds -->
        <link href="https://raimon49.github.io/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Steel Dragon 14106 Full RSS Feed" />
        <!-- /RSS Feeds -->

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->



    </head>

    <body>

        <!-- Header -->
    <div class="header-container gradient">

            <!-- Static navbar -->
            <div class="container">
                <div class="header-nav">
                    <div class="header-logo">
                        <a class="pull-left" href="https://raimon49.github.io/"><img class="mr20" src="https://raimon49.github.io/images/exchange32.png" alt="logo">Steel Dragon 14106</a>
                    </div>
                    <div class="nav pull-right">
                                <a href="https://raimon49.github.io/categories.html">Categories</a>
                    </div>
                </div>
            </div>
            <!-- /Static navbar -->

            <!-- Header -->
    <!-- Header -->
    <div class="container header-wrapper">
        <div class="row">
              <div class="col-lg-12">
                  <div class="header-content">
                      <h1 class="header-title">技術ブログを静的ページジェネレータPelicanで始めることにした</h1>
                      <p class="header-date">By <a href="https://raimon49.github.io/author/raimon.html">raimon</a>, 2014-11-09(日), in category <a href="https://raimon49.github.io/category/python.html">Python</a></p>
                      <div class="header-underline"></div>
                      <div class="clearfix"></div>
                      <p class="pull-right header-tags">
                          <span class="glyphicon glyphicon-tags mr5" aria-hidden="true"></span>
<a href="https://raimon49.github.io/tag/github.html">GitHub</a>, <a href="https://raimon49.github.io/tag/pelican.html">Pelican</a>, <a href="https://raimon49.github.io/tag/python.html">Python</a>                      </p>
                  </div>
              </div>
        </div>
    </div>
    <!-- /Header -->
            <!-- /Header -->

        </div>
        <!-- /Header -->


        <!-- Content -->
    <div class="container content">
        <p>技術ブログを静的ページジェネレータPelicanで始めることにしたのでセットアップ手順のメモとかを残す。</p>
<h2>2015-04-19追記</h2>
<p>最新のセットアップ手順は、このブログ自身の<a href="https://github.com/raimon49/raimon49.github.io/blob/source/README.md">リポジトリトップに置いてあるREADME.md</a>に簡潔にまとめてある。</p>
<h2>動機</h2>
<p>もともとウェブ日記ツール<a href="http://www.tdiary.org/">tDiary</a>を使ってプログラミング系の記事も書いていたのだけど、</p>
<ul>
<li>シンタックスハイライトがしんどい<ul>
<li><a href="https://code.google.com/p/google-code-prettify/">google-code-prettify</a>で色付けしているのだが、やはりJavaScriptではしんどい</li>
<li>プログラミング言語のサポートも貧弱なので、やはりこの分野ではデファクトスタンダードな<a href="http://pygments.org/">pygments</a>が使いたい</li>
</ul>
</li>
<li>プログラミングネタはMarkdownで書きたい<ul>
<li>tDiaryにもMarkdownで書く設定があるが、違う道具も使ってみたかった</li>
<li>ファイル名 <code>*.md</code> だと使い慣れてるVimでサクサクと書けるので是非やりたい</li>
</ul>
</li>
</ul>
<p>といった理由により、GitHub Pagesにホスティングして別ブログを始めたいと考えた。</p>
<h2>GitHub Pagesの準備</h2>
<p>あらかじめGitHub側に <code>{username}.github.io.git</code> という名前のリポジトリを作っておく。</p>
<p>手元に持って来て、ここを作業ディレクトリにする。GitHub Pagesとして公開するページとPelican作業用ディレクトリとで内容が一致できないので、 <code>source</code> というブランチで公開ページの元となるMarkdownファイルを管理して行く事にした。これが正しいやり方なのか良く分からない。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:raimon49/raimon49.github.io.git
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>raimon49.github.io
$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span><span class="nb">source</span>
</code></pre></div>

<h2>Pelican環境のセットアップ</h2>
<p>以下のページを参考にPelican 3.5.0の環境をセットアップした。</p>
<ul>
<li><a href="http://docs.getpelican.com/en/3.5.0/">Pelican 3.5.0</a></li>
<li><a href="http://blog.sotm.jp/2014/01/04/Pelican-Markdown-GithubPages-install-guide/" title="Pelican + Markdown + GitHub Pagesで管理するブログの作り方 - blog@sotm.jp">Pelican + Markdown + GitHub Pagesで管理するブログの作り方 - blog@sotm.jp</a></li>
</ul>
<p>まずPython 2.7系でPelican用のvirtualenv環境を作る。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pyenv<span class="w"> </span>virtualenv<span class="w"> </span><span class="m">2</span>.7.8<span class="w"> </span>venv-2.7.8-pelican
$<span class="w"> </span>pyenv<span class="w"> </span><span class="nb">local</span><span class="w"> </span>venv-2.7.8-pelican
</code></pre></div>

<p>依存するパッケージのインストール。</p>
<p><code>Makefile</code> と一緒に <code>fabfile.py</code> も作ってくれるらしいので、Fabricも入れてみることにした。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>pelican<span class="w"> </span>markdown<span class="w"> </span>fabric
$<span class="w"> </span>pip<span class="w"> </span>list
blinker<span class="w"> </span><span class="o">(</span><span class="m">1</span>.3<span class="o">)</span>
docutils<span class="w"> </span><span class="o">(</span><span class="m">0</span>.12<span class="o">)</span>
ecdsa<span class="w"> </span><span class="o">(</span><span class="m">0</span>.11<span class="o">)</span>
Fabric<span class="w"> </span><span class="o">(</span><span class="m">1</span>.10.0<span class="o">)</span>
feedgenerator<span class="w"> </span><span class="o">(</span><span class="m">1</span>.7<span class="o">)</span>
Jinja2<span class="w"> </span><span class="o">(</span><span class="m">2</span>.7.3<span class="o">)</span>
Markdown<span class="w"> </span><span class="o">(</span><span class="m">2</span>.5.1<span class="o">)</span>
MarkupSafe<span class="w"> </span><span class="o">(</span><span class="m">0</span>.23<span class="o">)</span>
paramiko<span class="w"> </span><span class="o">(</span><span class="m">1</span>.15.1<span class="o">)</span>
pelican<span class="w"> </span><span class="o">(</span><span class="m">3</span>.5.0<span class="o">)</span>
pip<span class="w"> </span><span class="o">(</span><span class="m">1</span>.5.6<span class="o">)</span>
pycrypto<span class="w"> </span><span class="o">(</span><span class="m">2</span>.6.1<span class="o">)</span>
Pygments<span class="w"> </span><span class="o">(</span><span class="m">1</span>.6<span class="o">)</span>
python-dateutil<span class="w"> </span><span class="o">(</span><span class="m">2</span>.2<span class="o">)</span>
pytz<span class="w"> </span><span class="o">(</span><span class="m">2014</span>.9<span class="o">)</span>
setuptools<span class="w"> </span><span class="o">(</span><span class="m">3</span>.6<span class="o">)</span>
six<span class="w"> </span><span class="o">(</span><span class="m">1</span>.8.0<span class="o">)</span>
Unidecode<span class="w"> </span><span class="o">(</span><span class="m">0</span>.04.16<span class="o">)</span>
wsgiref<span class="w"> </span><span class="o">(</span><span class="m">0</span>.1.2<span class="o">)</span>
</code></pre></div>

<p><code>pelican-quickstart</code> というコマンドで質問に答えてテンプレートを生成する。</p>
<p>ほとんどデフォルトの回答にした。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pelican-quickstart
Welcome<span class="w"> </span>to<span class="w"> </span>pelican-quickstart<span class="w"> </span>v3.5.0.

This<span class="w"> </span>script<span class="w"> </span>will<span class="w"> </span><span class="nb">help</span><span class="w"> </span>you<span class="w"> </span>create<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>Pelican-based<span class="w"> </span>website.

Please<span class="w"> </span>answer<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>questions<span class="w"> </span>so<span class="w"> </span>this<span class="w"> </span>script<span class="w"> </span>can<span class="w"> </span>generate<span class="w"> </span>the<span class="w"> </span>files
needed<span class="w"> </span>by<span class="w"> </span>Pelican.


&gt;<span class="w"> </span>Where<span class="w"> </span><span class="k">do</span><span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span>your<span class="w"> </span>new<span class="w"> </span>web<span class="w"> </span>site?<span class="w"> </span><span class="o">[</span>.<span class="o">]</span><span class="w"> </span>.
&gt;<span class="w"> </span>What<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>the<span class="w"> </span>title<span class="w"> </span>of<span class="w"> </span>this<span class="w"> </span>web<span class="w"> </span>site?<span class="w"> </span>Steel<span class="w"> </span>Dragon<span class="w"> </span><span class="m">14106</span>
&gt;<span class="w"> </span>Who<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>the<span class="w"> </span>author<span class="w"> </span>of<span class="w"> </span>this<span class="w"> </span>web<span class="w"> </span>site?<span class="w"> </span>raimon
&gt;<span class="w"> </span>What<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>the<span class="w"> </span>default<span class="w"> </span>language<span class="w"> </span>of<span class="w"> </span>this<span class="w"> </span>web<span class="w"> </span>site?<span class="w"> </span><span class="o">[</span>en<span class="o">]</span><span class="w"> </span>ja
&gt;<span class="w"> </span>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>specify<span class="w"> </span>a<span class="w"> </span>URL<span class="w"> </span>prefix?<span class="w"> </span>e.g.,<span class="w"> </span>http://example.com<span class="w">   </span><span class="o">(</span>Y/n<span class="o">)</span><span class="w"> </span>y
&gt;<span class="w"> </span>What<span class="w"> </span>is<span class="w"> </span>your<span class="w"> </span>URL<span class="w"> </span>prefix?<span class="w"> </span><span class="o">(</span>see<span class="w"> </span>above<span class="w"> </span>example<span class="p">;</span><span class="w"> </span>no<span class="w"> </span>trailing<span class="w"> </span>slash<span class="o">)</span><span class="w"> </span>http://raimon49.github.io
&gt;<span class="w"> </span>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>article<span class="w"> </span>pagination?<span class="w"> </span><span class="o">(</span>Y/n<span class="o">)</span><span class="w"> </span>y
&gt;<span class="w"> </span>How<span class="w"> </span>many<span class="w"> </span>articles<span class="w"> </span>per<span class="w"> </span>page<span class="w"> </span><span class="k">do</span><span class="w"> </span>you<span class="w"> </span>want?<span class="w"> </span><span class="o">[</span><span class="m">10</span><span class="o">]</span><span class="w"> </span><span class="m">10</span>
&gt;<span class="w"> </span>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>generate<span class="w"> </span>a<span class="w"> </span>Fabfile/Makefile<span class="w"> </span>to<span class="w"> </span>automate<span class="w"> </span>generation<span class="w"> </span>and<span class="w"> </span>publishing?<span class="w"> </span><span class="o">(</span>Y/n<span class="o">)</span><span class="w"> </span>y
&gt;<span class="w"> </span>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>an<span class="w"> </span>auto-reload<span class="w"> </span><span class="p">&amp;</span><span class="w"> </span>simpleHTTP<span class="w"> </span>script<span class="w"> </span>to<span class="w"> </span>assist<span class="w"> </span>with<span class="w"> </span>theme<span class="w"> </span>and<span class="w"> </span>site<span class="w"> </span>development?<span class="w"> </span><span class="o">(</span>Y/n<span class="o">)</span><span class="w"> </span>y
&gt;<span class="w"> </span>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>upload<span class="w"> </span>your<span class="w"> </span>website<span class="w"> </span>using<span class="w"> </span>FTP?<span class="w"> </span><span class="o">(</span>y/N<span class="o">)</span><span class="w"> </span>n
&gt;<span class="w"> </span>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>upload<span class="w"> </span>your<span class="w"> </span>website<span class="w"> </span>using<span class="w"> </span>SSH?<span class="w"> </span><span class="o">(</span>y/N<span class="o">)</span><span class="w"> </span>n
&gt;<span class="w"> </span>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>upload<span class="w"> </span>your<span class="w"> </span>website<span class="w"> </span>using<span class="w"> </span>Dropbox?<span class="w"> </span><span class="o">(</span>y/N<span class="o">)</span><span class="w"> </span>n
&gt;<span class="w"> </span>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>upload<span class="w"> </span>your<span class="w"> </span>website<span class="w"> </span>using<span class="w"> </span>S3?<span class="w"> </span><span class="o">(</span>y/N<span class="o">)</span><span class="w"> </span>n
&gt;<span class="w"> </span>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>upload<span class="w"> </span>your<span class="w"> </span>website<span class="w"> </span>using<span class="w"> </span>Rackspace<span class="w"> </span>Cloud<span class="w"> </span>Files?<span class="w"> </span><span class="o">(</span>y/N<span class="o">)</span><span class="w"> </span>n
&gt;<span class="w"> </span>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>upload<span class="w"> </span>your<span class="w"> </span>website<span class="w"> </span>using<span class="w"> </span>GitHub<span class="w"> </span>Pages?<span class="w"> </span><span class="o">(</span>y/N<span class="o">)</span><span class="w"> </span>y
&gt;<span class="w"> </span>Is<span class="w"> </span>this<span class="w"> </span>your<span class="w"> </span>personal<span class="w"> </span>page<span class="w"> </span><span class="o">(</span>username.github.io<span class="o">)</span>?<span class="w"> </span><span class="o">(</span>y/N<span class="o">)</span><span class="w"> </span>y
Done.<span class="w"> </span>Your<span class="w"> </span>new<span class="w"> </span>project<span class="w"> </span>is<span class="w"> </span>available<span class="w"> </span>at<span class="w"> </span>/home/raimon49/works/git/raimon49.github.io
</code></pre></div>

<p>生成された <code>pelicanconf.py</code> というファイルを自分用に編集する。</p>
<p>変更・追加したのは以下の辺り。</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Atom/RSS Feedの生成に必要</span>
<span class="n">SITEURL</span> <span class="o">=</span> <span class="s1">&#39;http://raimon49.github.io&#39;</span>
<span class="c1"># SITEURLが指定されているとローカルサーバでもリンクに使われてしまうので</span>
<span class="c1"># ローカルサーバのプレビュー時は相対リンクするように指定</span>
<span class="n">RELATIVE_URLS</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># SITEURL/YYYY/MM/DD/Markdown fileというルールでURLを発行</span>
<span class="n">ARTICLE_PATHS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;blog&#39;</span><span class="p">]</span>
<span class="n">ARTICLE_SAVE_AS</span> <span class="o">=</span> <span class="s1">&#39;{date:%Y}/{date:%m}/{date:</span><span class="si">%d</span><span class="s1">}/</span><span class="si">{slug}</span><span class="s1">.html&#39;</span>
<span class="n">ARTICLE_URL</span> <span class="o">=</span> <span class="s1">&#39;{date:%Y}/{date:%m}/{date:</span><span class="si">%d</span><span class="s1">}/</span><span class="si">{slug}</span><span class="s1">.html&#39;</span>

<span class="c1"># ブログ記事の日付フォーマットを指定</span>
<span class="n">TIMEZONE</span> <span class="o">=</span> <span class="s1">&#39;Asia/Tokyo&#39;</span>
<span class="n">DATE_FORMATS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;en&#39;</span><span class="p">:</span> <span class="s1">&#39;</span><span class="si">%a</span><span class="s1">, </span><span class="si">%d</span><span class="s1"> %b %Y&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ja&#39;</span><span class="p">:</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">(</span><span class="si">%a</span><span class="s1">)&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># ブログのデザインテーマを指定（後述）</span>
<span class="n">THEME</span> <span class="o">=</span> <span class="s1">&#39;./vendor/pelican-sober&#39;</span>

<span class="c1"># ブログのRSSフィードを全文配信</span>
<span class="n">FEED_ALL_RSS</span> <span class="o">=</span> <span class="s1">&#39;feeds/all.rss.xml&#39;</span>

<span class="c1"># Social widget</span>
<span class="n">SOCIAL</span> <span class="o">=</span> <span class="p">((</span><span class="s1">&#39;GitHub&#39;</span><span class="p">,</span> <span class="s1">&#39;https://github.com/raimon49&#39;</span><span class="p">),</span>
          <span class="p">(</span><span class="s1">&#39;Twitter&#39;</span><span class="p">,</span> <span class="s1">&#39;https://twitter.com/raimon49&#39;</span><span class="p">),</span>
          <span class="p">(</span><span class="s1">&#39;Last.fm&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.lastfm.jp/user/raimon_49&#39;</span><span class="p">),</span>
          <span class="p">(</span><span class="s1">&#39;Website&#39;</span><span class="p">,</span> <span class="s1">&#39;http://sangoukan.xrea.jp/&#39;</span><span class="p">),)</span>
</code></pre></div>

<p>ブログのデザインテーマは <code>pelican-themes</code> というコマンドラインツールを使って管理できるみたいだけど、まぁ気に入ったものをGitHubから持って来て使えば途中で変更することも無いかなと考えて、submoduleとして追加して参照することにした。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>add<span class="w"> </span>git://github.com/fle/pelican-sober.git<span class="w"> </span>vendor/pelican-sober
</code></pre></div>

<h2>ブログ記事の投稿とページ生成</h2>
<p>後は <code>content/blog-title.md</code> みたいな感じで好きなテキストエディタで記事を書けば良いようだ。</p>
<p>記事に埋め込むメタデータについては<a href="http://docs.getpelican.com/en/3.5.0/content.html">Writing content</a>の章を参考にする。</p>
<p>HTMLの生成とローカルサーバでの確認は <code>Makefile</code> または <code>fabfile.py</code> を利用すると簡単。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>make<span class="w"> </span>html
$<span class="w"> </span>make<span class="w"> </span>serve

$<span class="w"> </span>fab<span class="w"> </span>build
$<span class="w"> </span>fab<span class="w"> </span>serve

<span class="c1"># 2つをまとめてやってくれる</span>
$<span class="w"> </span>fab<span class="w"> </span>reserve
</code></pre></div>

<p>ローカルでの確認が終わったら<a href="http://docs.getpelican.com/en/3.5.0/tips.html">Tips - Publishing to GitHub</a>を参考にGitHub Pagesに記事をpushする。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>fab<span class="w"> </span>rebuild
<span class="o">[</span>localhost<span class="o">]</span><span class="w"> </span>local:<span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>output
<span class="o">[</span>localhost<span class="o">]</span><span class="w"> </span>local:<span class="w"> </span>mkdir<span class="w"> </span>output
<span class="o">[</span>localhost<span class="o">]</span><span class="w"> </span>local:<span class="w"> </span>pelican<span class="w"> </span>-s<span class="w"> </span>pelicanconf.py
Done:<span class="w"> </span>Processed<span class="w"> </span><span class="m">1</span><span class="w"> </span>article<span class="o">(</span>s<span class="o">)</span>,<span class="w"> </span><span class="m">0</span><span class="w"> </span>draft<span class="o">(</span>s<span class="o">)</span><span class="w"> </span>and<span class="w"> </span><span class="m">0</span><span class="w"> </span>page<span class="o">(</span>s<span class="o">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span>.15<span class="w"> </span>seconds.

<span class="c1"># 現在のoutputディレクトリの内容をgh-pagesというローカルブランチに反映する</span>
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>ghp-import
$<span class="w"> </span>ghp-import<span class="w"> </span>output

<span class="c1"># コミットされた内容をリモートpushする</span>
$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>gh-pages
$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>-f<span class="w"> </span>origin<span class="w"> </span>gh-pages:master
</code></pre></div>

<p><code>ghp-import -b master</code> みたいにブランチ名を指定した方が楽かもしれない。</p>
<p><code>source</code> ブランチと <code>master</code> ブランチは全く別の歴史を持って行くので混ぜるな危険な感じになってしまった。記事生成元データは別リポジトリとして管理する方がベターなのかな。</p>
<p>よって更新手順としては以下のようなフローとなる</p>
<div class="highlight"><pre><span></span><code><span class="c1"># sourceブランチで記事を編集</span>
$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span><span class="nb">source</span>
$<span class="w"> </span>vim<span class="w"> </span>content/blog/2014/11/09/start-tech-blog-by-pelican.md
$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-a
$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span><span class="nb">source</span>

<span class="c1"># GitHub Pagesに反映</span>
$<span class="w"> </span>fab<span class="w"> </span>rebuild
$<span class="w"> </span>ghp-import
$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>gh-pages
$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>gh-pages:master
</code></pre></div>

<p>ローカルブランチを切り替えるのは面倒なので、この辺はコミットフックを使って自動化するのが良いかも知れない。</p>
<p>はてなスターとか設置したいんだけど今日は疲れたのでこれまで。</p>


    <div class="comments">
        <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'steeldragon14106';
                var disqus_identifier = '2014/11/09/start-tech-blog-by-pelican.html';
                var disqus_url = 'https://raimon49.github.io/2014/11/09/start-tech-blog-by-pelican.html';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
        <noscript>Please enable JavaScript to view the comments.</noscript>
    </div>
        
    </div>
        <!-- /Content --> 

        <!-- Footer -->
        <div class="footer gradient-2">
            <div class="container footer-container ">
                <div class="row">
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Sitemap</div>
                        <ul class="list-unstyled">
                            <li><a href="https://raimon49.github.io/archives.html">Archives</a></li>
                            <li><a href="https://raimon49.github.io/tags.html">Tags</a></li>
                            <li><a href="https://raimon49.github.io/authors.html">Authors</a></li>
                            <li><a href="https://raimon49.github.io/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">RSS Feed</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Social</div>
                        <ul class="list-unstyled">
                            <li><a href="https://github.com/raimon49" target="_blank">GitHub</a></li>
                            <li><a href="https://twitter.com/raimon49" target="_blank">Twitter</a></li>
                            <li><a href="https://www.last.fm/user/raimon_49" target="_blank">Last.fm</a></li>
                            <li><a href="http://sangoukan.xrea.jp/" target="_blank">Website</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Links</div>
                        <ul class="list-unstyled">
                            <li><a href="https://raimon49.github.io/my-portfolio/" target="_blank">Information about raimon</a></li>
                            <li><a href="https://blog.getpelican.com/" target="_blank">Pelican</a></li>
                            <li><a href="https://www.python.org/" target="_blank">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/" target="_blank">Jinja2</a></li>
                        </ul>
                    </div> 
                    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
                        <p class="pull-right text-right">
                            <small><em>Proudly powered by <a href="http://docs.getpelican.com/" target="_blank">pelican</a></em></small><br/>
                            <small><em>Theme and code by <a href="https://github.com/molivier" target="_blank">molivier</a></em></small><br/>
                            <small>&copy; raimon 2014-2019</small>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Footer -->
    </body>
</html>